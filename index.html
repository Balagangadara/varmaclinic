<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="floatingicon.css" rel="stylesheet">
    
    <title>Varma Clinic</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            background-color: #f4f4f4;
            margin: 0;
        }
     
        .form-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 400px;
        }
        .form-container img {
            display: block;
            margin: 0 auto 20px;
            max-width: 100%;
        }
        .form-container h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 25px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input,
        .form-group select,
        .form-group button {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 40px;
            box-sizing: border-box;
        }
        .form-group button {
            background-color: #070935;;
            color: white;
            border: none;
            cursor: pointer;
        }
        .form-group button:hover {
            background-color: #0b214d;
        }
 
        button:disabled {
            background-color: grey;
            cursor: not-allowed;
        }
        .next-button {
            position: absolute;
            top: 10px; /* Adjust as needed */
            right: 10px; /* Adjust as needed */
            padding: 10px 20px;
            background-color: #4CAF50; /* Adjust as needed */
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px; /* Adjust as needed */
        }

        .next-button:hover {
            background-color: #45a049; /* Adjust as needed */
        }
    
    </style>
     </head>
     <body>

<div class="form-container">
    <a href="index2.html" class="next-button">Calendely</a>
    <img src="images/logo.png" width="620" height="100" alt="Form Logo" />
    <h1>Book Your Appointment</h1>
         <!-- Your form fields here -->
        
    

    <div class="container">
        <!-- Common Form Fields -->
        <div class="form-group">
            <label for="name">Patient Name:</label>
            <input type="text" name="Name" class="form-control" id="name" placeholder="Your Name" required>
        </div>
        <div class="form-group">
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required min="1" max="999">
        </div>

        <div class="form-group">
            <label for="gender" style="margin-top: 20px;">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="">Please Select</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Transgender">Transgender</option>
            </select>
        </div>

        <div class="form-group" style="margin-top: 20px;">
            <label for="phone" style="margin-top: 20px;">Mobile Number:</label>
            <input type="tel" class="form-control" name="Mobile number" id="phone" placeholder="" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" pattern="[6-9]{1}[0-9]{9}" maxlength="10" required>
        </div>

        <div class="form-group">
            <label for="reason" style="margin-top: 20px;">Reason For Your Appointment:</label>
            <select id="reason" name="reason" required>
                <option value="">Please Select</option>
                <option value="Fever">Fever</option>
                <option value="Vomiting">Vomiting</option>
                <option value="Diarrhoea/Dysentery">Diarrhoea/Dysentery</option>
                <option value="Stomach Pain">Stomach Pain</option>
                <option value="Body pain/Joint pain">Body pain/Joint pain</option>
                <option value="Others">Others</option>
            </select>
        </div>

        <div class="form-group">
            <label for="appointment_date" style="margin-top: 20px;">Appointment Date:</label>
            <input type="date" id="appointment_date" name="appointment_date" required>
        </div>

        <div class="form-group">
            <label for="time_slot" style="margin-top: 20px;">Time Slot:</label>
            <select id="time_slot" name="time_slot" required>
                <option value="">Please Select</option>
                <!-- ... all time slot options ... -->
                <option value="07:00">07:00</option>
                <option value="07:15">07:15</option>
                <option value="07:30">07:30</option>
                <option value="07:45">07:45</option>
                <option value="08:00">08:00</option>
               <option value="08:15">08:15</option>
                <option value="08:30">08:30</option>
                <option value="08:45">08:45</option>
                <option value="09:00">09:00</option>
                <option value="09:15">09:15</option>
                <option value="09:30">09:30</option>
                <option value="09:45">09:45</option>
                <option value="10:00">10:00</option>
                <option value="10:15">10:15</option>
                <option value="10:30">10:30</option>
                <option value="10:45">10:45</option>
                <option value="11:00">11:00</option>
                <option value="11:15">11:15</option>
                <option value="11:30">11:30</option>
                <option value="11:45">11:45</option>
                <option value="12:00">12:00</option>
                <option value="12:15">12:15</option>
                <option value="12:30">12:30</option>
                <option value="12:45">12:45</option>
                <option value="13:00">13:00</option>
                <option value="13:15">13:15</option>
                <option value="13:30">13:30</option>
                <option value="13:45">13:45</option>
                <option value="14:00">14:00</option>
                <option value="14:15">14:15</option>
                <option value="14:30">14:30</option>
                <option value="14:45">14:45</option>
                <option value="15:00">15:00</option>
                <option value="15:15">15:15</option>
                <option value="15:30">15:30</option>
                <option value="15:45">15:45</option>
                <option value="16:00">16:00</option>
                <option value="16:15">16:15</option>
                <option value="16:30">16:30</option>
                <option value="16:45">16:45</option>
                <option value="17:00">17:00</option>
                <option value="17:15">17:15</option>
                <option value="17:30">17:30</option>
                <option value="17:45">17:45</option>
                <option value="18:00">18:00</option>
                <option value="18:15">18:15</option>
                <option value="18:30">18:30</option>
                <option value="18:45">18:45</option>
                <option value="19:00">19:00</option>
                <option value="19:15">19:15</option>
                <option value="19:30">19:30</option>
                <option value="19:45">19:45</option>
                <option value="20:00">20:00</option>
                <option value="20:15">20:15</option>
                <option value="20:30">20:30</option>
                <option value="20:45">20:45</option>
                <option value="21:00">21:00</option>
                <option value="21:15">21:15</option>
                <option value="22:30">22:30</option>
                <option value="22:45">22:45</option>
             
                
            </select>
        </div>

        <!-- Form for WhatsApp -->
        <form id="submit_form_whatsapp">
            <div class="form-group">
                <button type="button" id="whatsappButton" style="margin-top: 20px;" disabled>Book an Appointment via WhatsApp</button>
            </div>
        </form>

        <!-- Form for SMS -->
        <form id="submit_form_sms">
            <div class="form-group">
                <button type="button" id="smsButton" style="margin-top: 20px;" disabled>Book an Appointment via SMS</button>
            </div>
        </form>

        <!-- Form for Email -->
        <form id="submit_form_email">
            <div class="form-group">
                <button type="button" id="emailButton" style="margin-top: 20px;" disabled>Book an Appointment via Email</button>
            </div>
        </form>

        <!-- Form for Phone Call -->
        <form id="submit_form_call">
            <div class="form-group">
                <button type="button" id="callButton" style="margin-top: 20px;" disabled>Book an Appointment via Phone Call</button>
            </div>
        </form>

        <!-- Form for Formspree -->
        <form action="https://formspree.io/f/mblrlylw" method="post" id="formspreeForm">
            <div class="form-group">
                <button type="submit" id="formspreeButton" style="margin-top: 20px; margin-bottom: 20px;" disabled>Submit via Formspree and Email</button>
            </div>
        </form>
     </div>
      
    <div class="container">
        <div class="floating-contact right">
            <a href="https://wa.me/8148086997" target="_blank">
                <img src="images/whats.png" alt="WhatsApp Icon">
            </a>
            <a href="mailto:pozhilansolutions@gmail.com?subject=Appointment%20Request" target="_blank">
                <img src="images/mail.png" alt="Email Icon">
            </a>
            <a href="sms:8148086997?body=Hello%20there!" target="_blank">
                <img src="images/message.png" alt="Message Icon">
            </a>
            <a href="tel:8148086997" target="_blank">
                <img src="images/call.png" alt="Call Icon">
            </a>
        </div>
    </div>

    <script>
        document.getElementById('age').addEventListener('input', function (e) {
            if (this.value.length > 3) {
                this.value = this.value.slice(0, 3);
            }

            // Ensure age is within range 1 to 110
            if (parseInt(this.value) > 110) {
                this.value = '110';
            } else if (parseInt(this.value) < 1) {
                this.value = '1';
            }
        });
    </script>
    <script>
        document.getElementById('age').addEventListener('input', function () {
            const ageInput = document.getElementById('age');
            const ageValue = parseInt(ageInput.value);
    
            if (ageValue < 1 || ageValue > 110) {
                ageInput.setCustomValidity('Age must be between 1 and 110.');
                disableButtons(true);
            } else {
                ageInput.setCustomValidity('');
                checkFormValidity();
            }
        });
    
        document.getElementById('phone').addEventListener('input', function () {
            const phoneInput = document.getElementById('phone');
            const phoneValue = phoneInput.value;
    
            if (phoneValue.length !== 10 || !/^[6789]\d{9}$/.test(phoneValue)) {
                phoneInput.setCustomValidity('Phone number must be exactly 10 digits and start with 6, 7, 8, or 9.');
                disableButtons(true);
            } else {
                phoneInput.setCustomValidity('');
                checkFormValidity();
            }
        });
    
        function disableButtons(disable) {
            buttons.forEach(button => {
                button.disabled = disable;
            });
        }
    
        const requiredFields = ['name', 'age', 'gender', 'phone', 'reason', 'appointment_date', 'time_slot'];
        const buttons = [
            document.getElementById('whatsappButton'),
            document.getElementById('smsButton'),
            document.getElementById('emailButton'),
            document.getElementById('callButton'),
            document.getElementById('formspreeButton')
        ];
    
        function checkFormValidity() {
            let allFieldsFilled = true;
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field || !field.value || (fieldId === 'age' && (field.value < 1 || field.value > 110)) || (fieldId === 'phone' && (!/^[6789]\d{9}$/.test(field.value)))) {
                    allFieldsFilled = false;
                }
            });
    
            buttons.forEach(button => {
                button.disabled = !allFieldsFilled;
            });
        }
    
        // Initially disable the buttons
        buttons.forEach(button => {
            button.disabled = true;
        });
    
        requiredFields.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            if (field) {
                field.addEventListener('input', checkFormValidity);
            }
        });
    
        function padRight(str, length) {
            return str + ' '.repeat(Math.max(0, length - str.length));
        }
    
        function padLeft(str, length) {
            return ' '.repeat(Math.max(0, length - str.length)) + str;
        }
    
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = date.getDate().toString().padStart(2, '0');
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const year = date.getFullYear().toString();
            return `${day}/${month}/${year}`;
        }
    
        function getFormData() {
            const fieldValues = {
                'Name': document.getElementById('name').value,
                'Age': document.getElementById('age').value,
                'Gender': document.getElementById('gender').value,
                'Mobile Number': document.getElementById('phone').value,
                'Reason For Appointment': document.getElementById('reason').value,
                'Appointment Date': formatDate(document.getElementById('appointment_date').value),
                'Time Slot': document.getElementById('time_slot').value
            };
    
            const maxLength = Math.max(...Object.keys(fieldValues).map(key => key.length));
            const colonPosition = 4;
            const valueStartPosition = 0; // Adjust this value as needed to ensure right alignment
    
            return Object.entries(fieldValues)
                .map(([key, value]) => 
                    `${padRight(key, colonPosition)}: ${padLeft(value, valueStartPosition - colonPosition - 5)}`)
                .join('\n');
        }
    
        document.getElementById('whatsappButton').addEventListener('click', function () {
            const message = getFormData();
            const encodedMessage = encodeURIComponent(message);
            const phoneNumber = '8148086997'; // Replace with the actual WhatsApp number
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
    
            window.open(whatsappUrl, '_blank');
        });
    
        document.getElementById('smsButton').addEventListener('click', function () {
            const message = getFormData();
            const encodedMessage = encodeURIComponent(message);
            const phoneNumber = '814808997'; // Replace with the actual SMS number
            const smsUrl = `sms:${phoneNumber}?body=${encodedMessage}`;
    
            window.open(smsUrl, '_blank');
        });
    
        document.getElementById('emailButton').addEventListener('click', function () {
            const message = getFormData();
            const encodedMessage = encodeURIComponent(message);
            const email = 'pozhilansolutions@gmail.com'; // Replace with the actual email address
            const emailSubject = encodeURIComponent('Appointment Booking');
            const mailtoUrl = `mailto:${email}?subject=${emailSubject}&body=${encodedMessage}`;
    
            window.open(mailtoUrl, '_blank');
        });
    
        document.getElementById('callButton').addEventListener('click', function () {
            const phoneNumber = '8148086997'; // Replace with the actual phone number for the call
            const callUrl = `tel:${phoneNumber}`;
    
            window.open(callUrl, '_self');
        });
    
        document.getElementById('formspreeForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent default form submission
            const formspreeUrl = 'https://formspree.io/f/mblrlylw';
            const message = getFormData();
            const formData = new FormData();
            formData.append('Name', document.getElementById('name').value);
            formData.append('Age', document.getElementById('age').value);
            formData.append('Gender', document.getElementById('gender').value);
            formData.append('Phone number', document.getElementById('phone').value);
            formData.append('Reason For Appointment', document.getElementById('reason').value);
            formData.append('Appointment Date', formatDate(document.getElementById('appointment_date').value));
            formData.append('Time Slot', document.getElementById('time_slot').value);
    
            fetch(formspreeUrl, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    alert("Form submitted successfully!");
                } else {
                    alert("Failed to submit the form.");
                }
            }).catch(error => {
                alert("Error submitting form: " + error.message);
            });
        });
    </script>
    
    
  <script>
    function setDateLimits() {
        const today = new Date();
        const maxDate = new Date(today);
        maxDate.setDate(today.getDate() + 5);

        const minDateString = today.toISOString().split('T')[0];
        const maxDateString = maxDate.toISOString().split('T')[0];

        const dateInput = document.getElementById('appointment_date');
        dateInput.setAttribute('min', minDateString);
        dateInput.setAttribute('max', maxDateString);
    }

    document.addEventListener('DOMContentLoaded', setDateLimits);
   </script>

      
 </body>


</html>
